var cmyk2rgb = function(c,m,y,k) { 
  var c1=1-c,m1=1-m,k1=1-k,y1=1-y,x,r,g,b;
  r = g = b = c1 * m1 * y1 * k1;
  x = c1 * m1 * y1 * k;
  r += 0.1373 * x;
  g += 0.1216 * x;
  b += 0.1255 * x;
  x = c1 * m1 * y  * k1;
  r += x;
  g += 0.9490 * x;
  x = c1 * m1 * y  * k;
  r += 0.1098 * x;
  g += 0.1020 * x;
  x = c1 * m * y1 * k1;
  r += 0.9255 * x;
  b += 0.5490 * x;
  x = c1 * m * y1 * k;
  r += 0.1412 * x;
  x = c1 * m * y  * k1;
  r += 0.9294 * x;
  g += 0.1098 * x;
  b += 0.1412 * x;
  x = c1 * m * y  * k;
  r += 0.1333 * x;
  x = c * m1 * y1 * k1;
  g += 0.6784 * x;
  b += 0.9373 * x;
  x = c * m1 * y1 * k;
  g += 0.0588 * x;
  b += 0.1412 * x;
  x = c * m1 * y * k1;
  g += 0.6510 * x;
  b += 0.3137 * x;
  x = c * m1 * y * k;
  g += 0.0745 * x;
  x = c * m * y1 * k1;
  r += 0.1804 * x;
  g += 0.1922 * x;
  b += 0.5725 * x;
  x = c * m * y1 * k;
  b += 0.0078 * x;
  x = c * m * y * k1;
  r += 0.2118 * x;
  g += 0.2119 * x;
  b += 0.2235 * x;
  return [Math.round(255*r),Math.round(255*g),Math.round(255*b)];
};

module.exports = function(c,m,y,k) {
  return Array.isArray(c) ? cmyk2rgb(c[0],c[1],c[2],c[3]) : cmyk2rgb(c,m,y,k);
};
